# -*- coding: utf-8 -*-
"""
Created on Fri Sep  1 02:05:34 2023

@author: skippy
"""

import cv2
import os

# Replace 'input_video.mp4' with the path to your input video file
input_video_path = 'VID_20230904_031927.mp4'

# Replace 'output_folder' with the directory where you want to save the frames
output_folder = 'output_frames'

# Create the output folder if it doesn't exist
os.makedirs(output_folder, exist_ok=True)

# Open the video file
cap = cv2.VideoCapture(input_video_path)

# Initialize a frame counter
frame_counter = 2
frameSkip = 10

# Loop through each frame in the video
while True:
    # Read a frame from the video
    ret, frame = cap.read()
    
    # Break the loop if we have reached the end of the video
    if not ret:
        break
    if frame_counter % frameSkip == 0:
    
        # Save the frame as an image
        frame_filename = os.path.join(output_folder, f'frame_{frame_counter:04d}.png')
        cv2.imwrite(frame_filename, frame)
    
    # Increment the frame counter
    frame_counter += 1

# Release the video capture object
cap.release()

print(f"Extracted {frame_counter} frames to '{output_folder}'")

# Optionally, you can also show the extracted frames
# for i in range(frame_counter):
#     frame_filename = os.path.join(output_folder, f'frame_{i:04d}.png')
#     frame = cv2.imread(frame_filename)
#     cv2.imshow('Frame', frame)
#     if cv2.waitKey(25) & 0xFF == ord('q'):
#         break

# cv2.destroyAllWindows()
